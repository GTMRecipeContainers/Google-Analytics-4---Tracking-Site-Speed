{
    "exportFormatVersion": 2,
    "exportTime": "2024-08-13 19:52:02",
    "containerVersion": {
        "path": "accounts/4701529512/containers/115144580/versions/0",
        "accountId": "4701529512",
        "containerId": "115144580",
        "containerVersionId": "0",
        "container": {
            "path": "accounts/4701529512/containers/115144580",
            "accountId": "4701529512",
            "containerId": "115144580",
            "name": "39 -  Google Analytics 4 - Tracking Site Speed",
            "publicId": "GTM-PBRF5JB",
            "usageContext": [
                "WEB"
            ],
            "fingerprint": "1682283578736",
            "tagManagerUrl": "https://tagmanager.google.com/#/container/accounts/4701529512/containers/115144580/workspaces?apiLink=container",
            "features": {
                "supportUserPermissions": true,
                "supportEnvironments": true,
                "supportWorkspaces": true,
                "supportGtagConfigs": false,
                "supportBuiltInVariables": true,
                "supportClients": false,
                "supportFolders": true,
                "supportTags": true,
                "supportTemplates": true,
                "supportTriggers": true,
                "supportVariables": true,
                "supportVersions": true,
                "supportZones": true,
                "supportTransformations": false
            },
            "tagIds": [
                "GTM-PBRF5JB"
            ]
        },
        "tag": [
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "tagId": "64",
                "name": "Live Google Analytics 4 - Pageview",
                "type": "gaawe",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "sendEcommerceData",
                        "value": "false"
                    },
                    {
                        "type": "LIST",
                        "key": "eventSettingsTable",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "tag_name"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "Live Google Analytics 4 - Pageview"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "tag_date_creation"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "19/05/2024"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "tag_category"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "Pageview"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "utm_source"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "{{cookie_utm_source}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "utm_medium"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "{{cookie_utm_medium}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "utm_campaign"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "{{cookie_utm_campaign}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "utm_content"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "{{cookie_utm_content}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "utm_term"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "{{cookie_utm_term}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "page_location"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "{{Exclude Query Parameters}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enhancedUserId",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventName",
                        "value": "page_view"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "measurementIdOverride",
                        "value": "{{Live Google Analytics 4 ID}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventSettingsVariable",
                        "value": "{{Event Variable Settings}}"
                    }
                ],
                "fingerprint": "1719615938434",
                "firingTriggerId": [
                    "2147479553"
                ],
                "parentFolderId": "62",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "tagId": "71",
                "name": "Performance Tracking",
                "type": "html",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "html",
                        "value": "<script>\n(function() {\n\n    var siteSpeedSampleRate = 100;\n    var gaCookiename = '_ga';\n    var dataLayerName = 'dataLayer';\n\n    // No need to edit anything after this line\n    var shouldItBeTracked = function(siteSpeedSampleRate) {\n        // If we don't pass a sample rate, default value is 1\n        if (!siteSpeedSampleRate)\n            siteSpeedSampleRate = 1;\n        // Generate a hashId from a String\n        var hashId = function(a) {\n            var b = 1, c;\n            if (a)\n                for (b = 0,\n                c = a.length - 1; 0 <= c; c--) {\n                    var d = a.charCodeAt(c);\n                    b = (b << 6 & 268435455) + d + (d << 14);\n                    d = b & 266338304;\n                    b = 0 != d ? b ^ d >> 21 : b\n                }\n            return b\n        }\n        var clientId = ('; ' + document.cookie).split('; '+gaCookiename+'=').pop().split(';').shift().split(/GA1\\.[0-9]\\./)[1];\n        if(!clientId) return !1;\n        // If, for any reason the sample speed rate is higher than 100, let's keep it to a 100 max value\n        var b = Math.min(siteSpeedSampleRate, 100);        \n        return hashId(clientId) % 100 >= b ? !1 : !0\n    }\n\n    if (shouldItBeTracked(siteSpeedSampleRate)) {\n        var pt = window.performance || window.webkitPerformance;\n        pt = pt && pt.timing;\n        if (!pt)\n            return;\n        if (pt.navigationStart === 0 || pt.loadEventStart === 0)\n            return;\n        var timingData = {\n            \"page_load_time\": pt.loadEventStart - pt.navigationStart,\n            \"page_download_time\": pt.responseEnd - pt.responseStart,\n            \"dns_time\": pt.domainLookupEnd - pt.domainLookupStart,\n            \"redirect_response_time\": pt.fetchStart - pt.navigationStart,\n            \"server_response_time\": pt.responseStart - pt.requestStart,\n            \"tcp_connect_time\": pt.connectEnd - pt.connectStart,\n            \"dom_interactive_time\": pt.domInteractive - pt.navigationStart,\n            \"content_load_time\": pt.domContentLoadedEventStart - pt.navigationStart\n        };\n        // Sanity Checks if any value is negative abort\n        if (Object.values(timingData).filter(function(e) {\n            if (e < 0)\n                return e;\n        }).length > 0)\n            return;\n        window[dataLayerName] && window[dataLayerName].push({\n            \"event\": \"performance_timing\",\n            \"timing\": timingData\n        })\n    }\n}\n)() \n</script>    "
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "supportDocumentWrite",
                        "value": "false"
                    }
                ],
                "fingerprint": "1719615994648",
                "firingTriggerId": [
                    "3"
                ],
                "parentFolderId": "22",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "tagId": "82",
                "name": "Live Google Analytics 4 - Config",
                "type": "googtag",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "tagId",
                        "value": "{{Live Google Analytics 4 ID}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "configSettingsVariable",
                        "value": "{{Configuration Settings Variable}}"
                    }
                ],
                "fingerprint": "1719615938442",
                "firingTriggerId": [
                    "2147479573"
                ],
                "parentFolderId": "62",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "tagId": "103",
                "name": "Live Google Analytics 4 - Performance Timing",
                "type": "gaawe",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "sendEcommerceData",
                        "value": "false"
                    },
                    {
                        "type": "LIST",
                        "key": "eventSettingsTable",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "page_load_time"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "{{DLV - timing.page_load_time}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "content_load_time"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "{{DLV - timing.content_load_time}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "dom_interactive_time"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "{{DLV - timing.dom_interactive_time}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "server_response_time"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "{{DLV - timing.server_response_time}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "page_download_time"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "{{DLV - timing.page_download_time}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "dns_time"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "{{DLV - timing.dns_time}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "redirect_response_time"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "{{DLV - timing.redirect_response_time}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enhancedUserId",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventName",
                        "value": "performance_timing"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "measurementIdOverride",
                        "value": "{{Live Google Analytics 4 ID}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventSettingsVariable",
                        "value": "{{Event Variable Settings}}"
                    }
                ],
                "fingerprint": "1719790265299",
                "firingTriggerId": [
                    "48"
                ],
                "parentFolderId": "62",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            }
        ],
        "trigger": [
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "triggerId": "3",
                "name": "All Pages - Window Loaded",
                "type": "WINDOW_LOADED",
                "fingerprint": "1682283604560"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "triggerId": "48",
                "name": "Performance Timing",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "performance_timing"
                            }
                        ]
                    }
                ],
                "fingerprint": "1719615938426",
                "parentFolderId": "31"
            }
        ],
        "variable": [
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "4",
                "name": "DLV - timing.content_load_time",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "timing.content_load_time"
                    }
                ],
                "fingerprint": "1719788671256",
                "parentFolderId": "51",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "5",
                "name": "DLV - timing.dom_interactive_time",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "timing.dom_interactive_time"
                    }
                ],
                "fingerprint": "1719788671257",
                "parentFolderId": "51",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "7",
                "name": "DLV - timing.page_load_time",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "timing.page_load_time"
                    }
                ],
                "fingerprint": "1719788671259",
                "parentFolderId": "51",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "8",
                "name": "DLV - timing.server_response_time",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "timing.server_response_time"
                    }
                ],
                "fingerprint": "1719788671260",
                "parentFolderId": "51",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "34",
                "name": "query_utm_medium",
                "type": "u",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "component",
                        "value": "QUERY"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "queryKey",
                        "value": "utm_medium"
                    }
                ],
                "fingerprint": "1719615938419",
                "parentFolderId": "33",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "35",
                "name": "cookie_utm_medium",
                "type": "k",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "decodeCookie",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "utm_medium"
                    }
                ],
                "fingerprint": "1719615938420",
                "parentFolderId": "33",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "36",
                "name": "session_utm_medium",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\n  if ({{query_utm_medium}}) {\n\t// utm_medium found in URL. Set in cooke and update\n    // this variable.\n    window.document.cookie = \"utm_medium={{query_utm_medium}}; ; path=/\";\n    return {{query_utm_medium}};\n  } else {\n    // No utm_medium found in URL. Load from cookie \n  \treturn {{cookie_utm_medium}};\n  }\n}"
                    }
                ],
                "fingerprint": "1719615938420",
                "parentFolderId": "33",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "37",
                "name": "cookie_utm_campaign",
                "type": "k",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "decodeCookie",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "utm_campaign"
                    }
                ],
                "fingerprint": "1719615938421",
                "parentFolderId": "33",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "40",
                "name": "cookie_utm_content",
                "type": "k",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "decodeCookie",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "utm_content"
                    }
                ],
                "fingerprint": "1719615938422",
                "parentFolderId": "33",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "41",
                "name": "query_utm_content",
                "type": "u",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "component",
                        "value": "QUERY"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "queryKey",
                        "value": "utm_content"
                    }
                ],
                "fingerprint": "1719615938423",
                "parentFolderId": "33",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "42",
                "name": "session_utm_content",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\n  if ({{query_utm_content}}) {\n\t// utm_content found in URL. Set in cooke and update\n    // this variable.\n    window.document.cookie = \"utm_content={{query_utm_content}}; ; path=/\";\n    return {{query_utm_content}};\n  } else {\n    // No utm_content found in URL. Load from cookie \n  \treturn {{cookie_utm_content}};\n  }\n}"
                    }
                ],
                "fingerprint": "1719615938423",
                "parentFolderId": "33",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "43",
                "name": "query_utm_term",
                "type": "u",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "component",
                        "value": "QUERY"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "queryKey",
                        "value": "utm_term"
                    }
                ],
                "fingerprint": "1719615938424",
                "parentFolderId": "33",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "44",
                "name": "cookie_utm_source",
                "type": "k",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "decodeCookie",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "utm_source"
                    }
                ],
                "fingerprint": "1719615938424",
                "parentFolderId": "33",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "45",
                "name": "TimeStamp",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\n  return new Date().getTime();\n}"
                    }
                ],
                "fingerprint": "1719615938425",
                "parentFolderId": "20",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "47",
                "name": "Event Variable Settings",
                "type": "gtes",
                "parameter": [
                    {
                        "type": "LIST",
                        "key": "eventSettingsTable",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "container_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "{{Container ID}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "container_version"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "{{Container Version}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "timestamp"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "{{TimeStamp}}"
                                    }
                                ]
                            }
                        ]
                    }
                ],
                "fingerprint": "1719615938426",
                "parentFolderId": "46"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "56",
                "name": "Live Google Analytics 4 ID",
                "type": "c",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "G-81FK1S5S7B"
                    }
                ],
                "fingerprint": "1719615938430",
                "parentFolderId": "17",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "60",
                "name": "Exclude Query Parameters",
                "type": "cvt_115144580_59",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "select",
                        "value": "black"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "query",
                        "value": "true"
                    },
                    {
                        "type": "LIST",
                        "key": "targetQueries",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "query",
                                        "value": "utm_term"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "query",
                                        "value": "utm_content"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "query",
                                        "value": "gtm_debug"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "query",
                                        "value": "fbclid"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "targetURL",
                        "value": "{{Page URL}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "hash",
                        "value": "false"
                    }
                ],
                "fingerprint": "1719615938432",
                "parentFolderId": "20",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "63",
                "name": "cookie_utm_term",
                "type": "k",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "decodeCookie",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "utm_term"
                    }
                ],
                "fingerprint": "1719615938434",
                "parentFolderId": "33",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "67",
                "name": "query_utm_campaign",
                "type": "u",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "component",
                        "value": "QUERY"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "queryKey",
                        "value": "utm_campaign"
                    }
                ],
                "fingerprint": "1719615938436",
                "parentFolderId": "33",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "68",
                "name": "session_utm_campaign",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\n  if ({{query_utm_campaign}}) {\n\t// utm_campaign found in URL. Set in cooke and update\n    // this variable.\n    window.document.cookie = \"utm_campaign={{query_utm_campaign}}; ; path=/\";\n    return {{query_utm_campaign}};\n  } else {\n    // No utm_campaign found in URL. Load from cookie \n  \treturn {{cookie_utm_campaign}};\n  }\n}"
                    }
                ],
                "fingerprint": "1719615938436",
                "parentFolderId": "33",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "72",
                "name": "session_utm_term",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\n  if ({{query_utm_term}}) {\n\t// utm_term found in URL. Set in cooke and update\n    // this variable.\n    window.document.cookie = \"utm_term={{query_utm_term}}; ; path=/\";\n    return {{query_utm_term}};\n  } else {\n    // No utm_term found in URL. Load from cookie \n  \treturn {{cookie_utm_term}};\n  }\n}"
                    }
                ],
                "fingerprint": "1719615938438",
                "parentFolderId": "33",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "74",
                "name": "query_utm_source",
                "type": "u",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "component",
                        "value": "QUERY"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "queryKey",
                        "value": "utm_source"
                    }
                ],
                "fingerprint": "1719615938438",
                "parentFolderId": "33",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "75",
                "name": "session_utm_source",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\n  if ({{query_utm_source}}) {\n\t// utm_source found in URL. Set in cooke and update\n    // this variable.\n    window.document.cookie = \"utm_source={{query_utm_source}}; ; path=/\";\n    return {{query_utm_source}};\n  } else {\n    // No utm_source found in URL. Load from cookie \n  \treturn {{cookie_utm_source}};\n  }\n}"
                    }
                ],
                "fingerprint": "1719615938439",
                "parentFolderId": "33",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "81",
                "name": "Configuration Settings Variable",
                "type": "gtcs",
                "parameter": [
                    {
                        "type": "LIST",
                        "key": "configSettingsTable",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "send_page_view"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "false"
                                    }
                                ]
                            }
                        ]
                    }
                ],
                "fingerprint": "1719615938442",
                "parentFolderId": "46"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "88",
                "name": "DLV - timing.redirect_response_time",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "timing.redirect_response_time"
                    }
                ],
                "fingerprint": "1719788671254",
                "parentFolderId": "51",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "91",
                "name": "DLV - timing.page_download_time",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "timing.page_download_time"
                    }
                ],
                "fingerprint": "1719788671232",
                "parentFolderId": "51",
                "formatValue": {}
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "variableId": "92",
                "name": "DLV - timing.dns_time",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "timing.dns_time"
                    }
                ],
                "fingerprint": "1719788671230",
                "parentFolderId": "51",
                "formatValue": {}
            }
        ],
        "folder": [
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "folderId": "17",
                "name": "Platform Variables",
                "fingerprint": "1682283815296"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "folderId": "20",
                "name": "Other Variables",
                "fingerprint": "1682283815297"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "folderId": "22",
                "name": "Other Tags",
                "fingerprint": "1682283815297"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "folderId": "31",
                "name": "Other Triggers",
                "fingerprint": "1719615938417"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "folderId": "33",
                "name": "UTM",
                "fingerprint": "1719615938419"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "folderId": "46",
                "name": "Settings Variables",
                "fingerprint": "1719615938425"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "folderId": "51",
                "name": "Timing Variables",
                "fingerprint": "1719615938429"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "folderId": "62",
                "name": "Google Analytics 4 Tags",
                "fingerprint": "1719615938433"
            }
        ],
        "builtInVariable": [
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "PAGE_URL",
                "name": "Page URL"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "PAGE_HOSTNAME",
                "name": "Page Hostname"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "PAGE_PATH",
                "name": "Page Path"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "REFERRER",
                "name": "Referrer"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "EVENT",
                "name": "Event"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "CLICK_ELEMENT",
                "name": "Click Element"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "CLICK_CLASSES",
                "name": "Click Classes"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "CLICK_ID",
                "name": "Click ID"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "CLICK_TARGET",
                "name": "Click Target"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "CLICK_URL",
                "name": "Click URL"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "CLICK_TEXT",
                "name": "Click Text"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "FORM_ELEMENT",
                "name": "Form Element"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "FORM_CLASSES",
                "name": "Form Classes"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "FORM_ID",
                "name": "Form ID"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "FORM_TARGET",
                "name": "Form Target"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "FORM_URL",
                "name": "Form URL"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "FORM_TEXT",
                "name": "Form Text"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "ERROR_MESSAGE",
                "name": "Error Message"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "ERROR_URL",
                "name": "Error URL"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "ERROR_LINE",
                "name": "Error Line"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "NEW_HISTORY_FRAGMENT",
                "name": "New History Fragment"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "OLD_HISTORY_FRAGMENT",
                "name": "Old History Fragment"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "NEW_HISTORY_STATE",
                "name": "New History State"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "OLD_HISTORY_STATE",
                "name": "Old History State"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "HISTORY_SOURCE",
                "name": "History Source"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "CONTAINER_VERSION",
                "name": "Container Version"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "DEBUG_MODE",
                "name": "Debug Mode"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "RANDOM_NUMBER",
                "name": "Random Number"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "CONTAINER_ID",
                "name": "Container ID"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "HTML_ID",
                "name": "HTML ID"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "ENVIRONMENT_NAME",
                "name": "Environment Name"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "VIDEO_PROVIDER",
                "name": "Video Provider"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "VIDEO_URL",
                "name": "Video URL"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "VIDEO_TITLE",
                "name": "Video Title"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "VIDEO_DURATION",
                "name": "Video Duration"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "VIDEO_PERCENT",
                "name": "Video Percent"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "VIDEO_VISIBLE",
                "name": "Video Visible"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "VIDEO_STATUS",
                "name": "Video Status"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "VIDEO_CURRENT_TIME",
                "name": "Video Current Time"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "SCROLL_DEPTH_THRESHOLD",
                "name": "Scroll Depth Threshold"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "SCROLL_DEPTH_UNITS",
                "name": "Scroll Depth Units"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "SCROLL_DEPTH_DIRECTION",
                "name": "Scroll Direction"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "ELEMENT_VISIBILITY_RATIO",
                "name": "Percent Visible"
            },
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "type": "ELEMENT_VISIBILITY_TIME",
                "name": "On-Screen Duration"
            }
        ],
        "fingerprint": "1723578722721",
        "tagManagerUrl": "https://tagmanager.google.com/#/versions/accounts/4701529512/containers/115144580/versions/0?apiLink=version",
        "customTemplate": [
            {
                "accountId": "4701529512",
                "containerId": "115144580",
                "templateId": "59",
                "name": "Trim Query",
                "fingerprint": "1719615938432",
                "templateData": "___TERMS_OF_SERVICE___\n\nBy creating or modifying this file you agree to Google Tag Manager's Community\nTemplate Gallery Developer Terms of Service available at\nhttps://developers.google.com/tag-manager/gallery-tos (or such other URL as\nGoogle may provide), as modified from time to time.\n\n\n___INFO___\n\n{\n  \"displayName\": \"Trim Query\",\n  \"description\": \"Returns a string obtained by deleting an arbitrary query from the specified variable.\",\n  \"securityGroups\": [],\n  \"categories\": [\n    \"UTILITY\"\n  ],\n  \"id\": \"cvt_temp_public_id\",\n  \"type\": \"MACRO\",\n  \"version\": 1,\n  \"containerContexts\": [\n    \"WEB\"\n  ],\n  \"brand\": {\n    \"displayName\": \"Ayudante\",\n    \"id\": \"github.com_Ayudante\"\n  }\n}\n\n\n___TEMPLATE_PARAMETERS___\n\n[\n  {\n    \"type\": \"SELECT\",\n    \"name\": \"targetURL\",\n    \"displayName\": \"Target URL\",\n    \"macrosInSelect\": true,\n    \"selectItems\": [\n      {\n        \"value\": \"elementURL\",\n        \"displayValue\": \"Element URL (Click URL, Form URL)\"\n      },\n      {\n        \"value\": \"pageURL\",\n        \"displayValue\": \"Page URL\"\n      },\n      {\n        \"value\": \"pageURLAll\",\n        \"displayValue\": \"Page URL All (Page URL + Fragment)\"\n      }\n    ],\n    \"simpleValueType\": true,\n    \"help\": \"Specify a choice or URL format variable.\\u003cbr\\u003e\\n\\u003cb\\u003enote:\\u003c/b\\u003e Do not use the excerpt of only the query without \\u0027?\\u0027 Or the excerpt of only the hash tag without \\u0027#\\u0027.\"\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"targetFrom\",\n    \"displayName\": \"Remove from what\",\n    \"groupStyle\": \"NO_ZIPPY\",\n    \"subParams\": [\n      {\n        \"help\": \"Check to remove from the target variable query (\\\"? ~~\\\").\",\n        \"alwaysInSummary\": true,\n        \"defaultValue\": true,\n        \"name\": \"query\",\n        \"checkboxText\": \"Queries\",\n        \"type\": \"CHECKBOX\"\n      },\n      {\n        \"help\": \"Check to remove from the target variable fragment (\\\"# ~~\\\").\",\n        \"defaultValue\": false,\n        \"name\": \"hash\",\n        \"checkboxText\": \"Fragment\",\n        \"type\": \"CHECKBOX\"\n      }\n    ]\n  },\n  {\n    \"type\": \"SELECT\",\n    \"name\": \"select\",\n    \"displayName\": \"Select to delete\",\n    \"macrosInSelect\": false,\n    \"selectItems\": [\n      {\n        \"value\": \"black\",\n        \"displayValue\": \"Black list\"\n      },\n      {\n        \"value\": \"white\",\n        \"displayValue\": \"White list\"\n      }\n    ],\n    \"simpleValueType\": true,\n    \"defaultValue\": \"black\",\n    \"alwaysInSummary\": true\n  },\n  {\n    \"name\": \"targetQueries\",\n    \"simpleTableColumns\": [\n      {\n        \"defaultValue\": \"\",\n        \"displayName\": \"Delete query key\",\n        \"name\": \"query\",\n        \"type\": \"TEXT\",\n        \"isUnique\": true,\n        \"valueHint\": \"e.g. _ga\"\n      }\n    ],\n    \"type\": \"SIMPLE_TABLE\",\n    \"alwaysInSummary\": true,\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"select\",\n        \"paramValue\": \"black\",\n        \"type\": \"EQUALS\"\n      }\n    ]\n  },\n  {\n    \"type\": \"LABEL\",\n    \"name\": \"helpTextBlack\",\n    \"displayName\": \"The entered \\\"Delete query key\\\" is used judge by an exact match (\\\"equals\\\"), and if it matches, the key and value are deleted.\",\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"select\",\n        \"paramValue\": \"black\",\n        \"type\": \"EQUALS\"\n      }\n    ]\n  },\n  {\n    \"name\": \"filterQueries\",\n    \"simpleTableColumns\": [\n      {\n        \"defaultValue\": \"\",\n        \"displayName\": \"Keep query key\",\n        \"name\": \"query\",\n        \"type\": \"TEXT\",\n        \"isUnique\": true,\n        \"valueHint\": \"e.g. _ga\"\n      }\n    ],\n    \"type\": \"SIMPLE_TABLE\",\n    \"alwaysInSummary\": true,\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"select\",\n        \"paramValue\": \"white\",\n        \"type\": \"EQUALS\"\n      }\n    ]\n  },\n  {\n    \"type\": \"LABEL\",\n    \"name\": \"helpTextWhite\",\n    \"displayName\": \"The input \\\"Delete query key\\\" is determined by an exact match (\\\"equals\\\"), otherwise the key and value will be deleted.\",\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"select\",\n        \"paramValue\": \"white\",\n        \"type\": \"EQUALS\"\n      }\n    ]\n  }\n]\n\n\n___SANDBOXED_JS_FOR_WEB_TEMPLATE___\n\n// -------- API required\n// const log = require('logToConsole');\n// data.targetURL: (elementURL | pageURL | pageURLAll | {{variable}})\n// data.query: true\n// data.hash: true\n// data.select: black | white\n// data.targetQueries: [{\"query\":\"_ga\"},{\"query\":\"_gac\"}]\n// data.filterQueries: [{\"query\":\"_ga\"},{\"query\":\"_gac\"}]\n\n// --------- Default Settings\n// ---- Start Setting\nvar Var = data.targetURL;\t\t\t\t\t// Target URL\nconst select = data.select;\t\t\t\t\t// Select to delete(black | white)\nconst delQuery = data.targetQueries || [];\t\t\t// Delete query key(black)\nconst filterQuery = data.filterQueries || [];\t\t\t// Delete query key(white)\nconst delTarget = [data.query, data.hash];\t// Remove from what（0:Queries、1:Fragment）\n\n// ---- Get Target URL\nswitch(Var){\n\tcase 'elementURL':\n\t\tvar get = require('copyFromDataLayer');\n\t\tVar = get('gtm.elementUrl');\n\t\tbreak;\n\tcase 'pageURL':\n\t\tvar get = require('getUrl');\n\t\tVar = get('protocol') +'://' + get('host') + get('path');\n\t\tif(get('query')){\n\t\t\tVar += '?' + get('query');\n\t\t}\n\t\tbreak;\n\tcase 'pageURLAll':\n\t\tvar get = require('getUrl');\n\t\tVar = get('protocol') +'://' + get('host') + get('path');\n\t\tif(get('query')){\n\t\t\tVar += '?' + get('query');\n\t\t}\n\t\tif(get('fragment')){\n\t\t\tVar += '#' + get('fragment');\n\t\t}\n\t\tbreak;\n}\n\n// --------- Processing\nif(Var !== undefined){\n\t// ---- Split URL\n\tvar path = Var.split('?')[0].split('#')[0];\n\tvar query = null;\n\tvar hash = null;\n\tif(Var.indexOf('?') >= 0){\t// 1st '?' to before 1st '#'\n\t\tquery = Var.split('#')[0].split('?').map(function(valQuery, index){\n\t\t\treturn index !== 0 ? valQuery : undefined;\n\t\t}).join('');\n\t}\n\tif(Var.indexOf('#') >= 0){\t// 1st '#' to end\n\t\thash = Var.split('#').map(function(valQuery, index){\n\t\t\treturn index !== 0 ? valQuery : undefined;\n\t\t}).join('');\n\t}\n\n\t// ---- Target Key query remove\n\tconst omit = function(del, target, word){\t// Black List\n\t\tif(delTarget[del] && target){\n\t\t\t// Search & destroy\n\t\t\t//var queries = target.split('&');\n\t\t\t// hashtagaaa=111&bbb=222&ccc=333&aaa=444&aaabbbccc=555&bbb=tester?test=000&aaa=111&bbb=222&ccc=333\n\t\t\tif(del == 1 && target.indexOf('?') >= 0){\t// Split query\n\t\t\t\t// query in hash\n\t\t\t\tvar queries = target.split('?')[0].split('&');\n\t\t\t\tqueries[queries.length - 1] += '?' + target.split('?')[1];\n\t\t\t}else{\n\t\t\t\t// normal hash\n\t\t\t\tvar queries = target.split('&');\n\t\t\t}\n\t\t\tfor(var i = queries.length - 1; i >= 0; i--){\t// For Query length from end to start\n\t\t\t\tfor(var j = 0; j < delQuery.length; j++){\t// For Delete Query length from start to end\n\t\t\t\t\tif(queries[i].indexOf(delQuery[j].query + '=') == 0){\n\t\t\t\t\t\t// If: Checking Delete target is true\n\t\t\t\t\t\tqueries.splice(i, 1);\t// Target delete\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(queries.length >= 1){\n\t\t\t\t// If: Queries is be.\n\t\t\t\ttarget = queries.join('&');\n\t\t\t}else{\n\t\t\t\t// If: Queries is none.\n\t\t\t\ttarget = '';\n\t\t\t}\n\t\t}\n\t\tif(target){\n\t\t\tif(target.indexOf(word) !== 0){\n\t\t\t\ttarget = word + target;\n\t\t\t}\n\t\t\tpath += target;\n\t\t}\n\t};\n\tconst filtering = function(del, target, word){\t// White list\n\t\tif(delTarget[del] && target){\n\t\t\t// Search & destroy\n\t\t\tif(del == 1 && target.indexOf('?') >= 0){\t// Split query\n\t\t\t\t// query in hash\n\t\t\t\tvar queries = target.split('?')[0].split('&');\n\t\t\t\tqueries[queries.length - 1] += '?' + target.split('?')[1];\n\t\t\t}else{\n\t\t\t\t// normal hash\n\t\t\t\tvar queries = target.split('&');\n\t\t\t}\n\t\t\tfor(var i = queries.length - 1; i >= 0; i--){\t// For Query length from end to start\n\t\t\t\tlet flag = false;\n\t\t\t\tfor(var j = 0; j < filterQuery.length; j++){\t// For Delete Query length from start to end\n\t\t\t\t\tif(queries[i].indexOf(filterQuery[j].query + '=') == 0){\n\t\t\t\t\t\t// If: Checking Delete target is true\n\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(!flag){\n\t\t\t\t\tqueries.splice(i, 1);\t// Target delete\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(queries.length >= 1){\n\t\t\t\t// If: Queries is be.\n\t\t\t\ttarget = queries.join('&');\n\t\t\t}else{\n\t\t\t\t// If: Queries is none.\n\t\t\t\ttarget = '';\n\t\t\t}\n\t\t}\n\t\tif(target){\n\t\t\tif(target.indexOf(word) !== 0){\n\t\t\t\ttarget = word + target;\n\t\t\t}\n\t\t\tpath += target;\n\t\t}\n\t};\n\n\tswitch(select){\n\t\tcase 'black':\n\t\t\tomit(0, query, '?');\t// Remove from queries.\n\t\t\tomit(1, hash, '#');\t// Remove from fragment.\n\t\t\tbreak;\n\t\tcase 'white':\n\t\t\tfiltering(0, query, '?');\t// Remove from queries.\n\t\t\tfiltering(1, hash, '#');\t// Remove from fragment.\n\t\t\tbreak;\n\t}\n\n\t// ---- Complete.\n\treturn path;\n}else{\n\treturn undefined;\n}\n\n\n___WEB_PERMISSIONS___\n\n[\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"read_data_layer\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"allowedKeys\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"specific\"\n          }\n        },\n        {\n          \"key\": \"keyPatterns\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"gtm.elementUrl\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"get_url\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"urlParts\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        },\n        {\n          \"key\": \"queriesAllowed\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  }\n]\n\n\n___TESTS___\n\nscenarios:\n- name: Basic - Black - query\n  code: |-\n    const mockData = {\n      // Mocked field values\n      targetURL: 'https://example.com/test1/test2/test3/?aaa=111&bbb=222&ccc=333&aaa=444&aaabbbccc=555#hashtagaaa=111&bbb=222&ccc=333&aaa=444&aaabbbccc=555',\n      query: true,\n      hash: false,\n      select: 'black',\n      targetQueries: [{'query': 'aaa'},{'query': 'bbb'}]\n    };\n\n    // Call runCode to run the template's code.\n    let variableResult = runCode(mockData);\n\n    // Verify that the variable returns a result.\n    assertThat(variableResult).isNotEqualTo(undefined);\n- name: Basic - Black - hash\n  code: |-\n    const mockData = {\n      // Mocked field values\n      targetURL: 'https://example.com/test1/test2/test3/?aaa=111&bbb=222&ccc=333&aaa=444&aaabbbccc=555#hashtagaaa=111&bbb=222&ccc=333&aaa=444&aaabbbccc=555',\n      query: false,\n      hash: true,\n      select: 'black',\n      targetQueries: [{'query': 'aaa'},{'query': 'bbb'}]\n    };\n\n    // Call runCode to run the template's code.\n    let variableResult = runCode(mockData);\n\n    // Verify that the variable returns a result.\n    assertThat(variableResult).isNotEqualTo(undefined);\n- name: Basic - Black - query and hash\n  code: |-\n    const mockData = {\n      // Mocked field values\n      targetURL: 'https://example.com/test1/test2/test3/?aaa=111&bbb=222&ccc=333&aaa=444&aaabbbccc=555#hashtagaaa=111&bbb=222&ccc=333&aaa=444&aaabbbccc=555',\n      query: true,\n      hash: true,\n      select: 'black',\n      targetQueries: [{'query': 'aaa'},{'query': 'bbb'}]\n    };\n\n    // Call runCode to run the template's code.\n    let variableResult = runCode(mockData);\n\n    // Verify that the variable returns a result.\n    assertThat(variableResult).isNotEqualTo(undefined);\n- name: Basic - White - query\n  code: |-\n    const mockData = {\n      // Mocked field values\n      targetURL: 'https://example.com/test1/test2/test3/?aaa=111&bbb=222&ccc=333&aaa=444&aaabbbccc=555#hashtag',\n      query: true,\n      hash: false,\n      select: 'white',\n      filterQueries: [{'query': 'aaa'},{'query': 'bbb'}]\n    };\n\n    // Call runCode to run the template's code.\n    let variableResult = runCode(mockData);\n\n    // Verify that the variable returns a result.\n    assertThat(variableResult).isNotEqualTo(undefined);\n- name: Basic - White - hash\n  code: |-\n    const mockData = {\n      // Mocked field values\n      targetURL: 'https://example.com/test1/test2/test3/?aaa=111&bbb=222&ccc=333&aaa=444&aaabbbccc=555#hashtagaaa=111&bbb=222&ccc=333&aaa=444&aaabbbccc=555&singlehash',\n      query: false,\n      hash: true,\n      select: 'white',\n      filterQueries: [{'query': 'aaa'},{'query': 'bbb'}, {'query': 'singlehash'}]\n    };\n\n    // Call runCode to run the template's code.\n    let variableResult = runCode(mockData);\n\n    // Verify that the variable returns a result.\n    assertThat(variableResult).isNotEqualTo(undefined);\n- name: Basic - White - query and hash\n  code: |-\n    const mockData = {\n      // Mocked field values\n      targetURL: 'https://example.com/test1/test2/test3/?aaa=111&bbb=222&ccc=333&aaa=444&aaabbbccc=555#hashtagaaa=111&bbb=222&ccc=333&aaa=444&aaabbbccc=555',\n      query: true,\n      hash: true,\n      select: 'white',\n      filterQueries: [{'query': 'aaa'},{'query': 'bbb'}]\n    };\n\n    // Call runCode to run the template's code.\n    let variableResult = runCode(mockData);\n\n    // Verify that the variable returns a result.\n    assertThat(variableResult).isNotEqualTo(undefined);\n- name: Rare - White - query and hash - 2\n  code: |-\n    const mockData = {\n      // Mocked field values\n      targetURL: 'https://example.com/test1/test2/test3/?aaa=111&bbb=222&ccc=333&aaa=444&aaabbbccc=555#hashtagaaa=111&bbb=222&ccc=333&aaa=444&aaabbbccc=555?test=000&aaa=111',\n      query: true,\n      hash: true,\n      select: 'white',\n      filterQueries: [{'query': 'aaa'},{'query': 'bbb'}]\n    };\n\n    // Call runCode to run the template's code.\n    let variableResult = runCode(mockData);\n\n    // Verify that the variable returns a result.\n    assertThat(variableResult).isNotEqualTo(undefined);\n- name: Rare - Black - hash - 2a\n  code: |-\n    const mockData = {\n      // Mocked field values\n      targetURL: 'https://example.com/test1/test2/test3/?aaa=111&bbb=222&ccc=333&aaa=444&aaabbbccc=555#hashtagaaa=111&bbb=222&ccc=333&aaa=444&aaabbbccc=555?test=000&aaa=111',\n      query: false,\n      hash: true,\n      select: 'black',\n      targetQueries: [{'query': 'aaa'},{'query': 'bbb'}]\n    };\n\n    // Call runCode to run the template's code.\n    let variableResult = runCode(mockData);\n\n    // Verify that the variable returns a result.\n    assertThat(variableResult).isNotEqualTo(undefined);\n- name: Rare - Black - hash - 2b\n  code: |-\n    const mockData = {\n      // Mocked field values\n      targetURL: 'https://example.com/test1/test2/test3/#hashtagaaa=111&bbb=222&ccc=333&aaa=444&aaabbbccc=555&bbb=tester?test=000&aaa=111&bbb=222&ccc=333',\n      query: false,\n      hash: true,\n      select: 'black',\n      targetQueries: [{'query': 'aaa'},{'query': 'bbb'}]\n    };\n\n    // Call runCode to run the template's code.\n    let variableResult = runCode(mockData);\n\n    // Verify that the variable returns a result.\n    assertThat(variableResult).isNotEqualTo(undefined);\n- name: Basic - White - query - non setting\n  code: |-\n    const mockData = {\n      // Mocked field values\n      targetURL: 'https://example.com/test1/test2/test3/?aaa=111&bbb=222&ccc=333&aaa=444&aaabbbccc=555#hashtag',\n      query: true,\n      hash: false,\n      select: 'white'  // white|black\n    };\n\n    // Call runCode to run the template's code.\n    let variableResult = runCode(mockData);\n\n    // Verify that the variable returns a result.\n    assertThat(variableResult).isNotEqualTo(undefined);\n\n\n___NOTES___\n\nCreated on 2020/1/10 20:56:30\n\n\n",
                "galleryReference": {
                    "host": "github.com",
                    "owner": "Ayudante",
                    "repository": "trim-query",
                    "version": "f5b37fe2eee4c5f07b2ea3854b4adbb402c536a3",
                    "signature": "cb1d553defa4674219b8bf0e6044432f50556d805227e2390d8b4d5c3226e46f"
                }
            }
        ]
    }
}